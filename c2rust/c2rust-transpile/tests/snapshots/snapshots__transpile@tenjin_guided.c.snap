---
source: c2rust-transpile/tests/snapshots.rs
expression: cat tests/snapshots/tenjin_guided.rs
input_file: c2rust-transpile/tests/snapshots/tenjin_guided.c
---
#![allow(
    dead_code,
    non_camel_case_types,
    non_snake_case,
    non_upper_case_globals,
    unused_assignments,
    unused_mut
)]
extern "C" {
    fn printf(fmt: *const ::core::ffi::c_char, ...) -> ::core::ffi::c_int;
}
#[no_mangle]
pub unsafe extern "C" fn print_owned_String(mut ostr: String) {
    println!("{:>}", ostr);
}
#[no_mangle]
pub unsafe extern "C" fn print_unguided_ptr(mut ptr: *const ::core::ffi::c_char) {
    println!("{:>}", {
        std::ffi::CStr::from_ptr(ptr as *const core::ffi::c_char)
            .to_str()
            .unwrap()
    });
}
#[no_mangle]
pub unsafe extern "C" fn print_shared_vec_u8(mut rvu8: &Vec<u8>) {
    println!("{:>}", String::from_utf8_lossy(&rvu8));
}
#[no_mangle]
pub unsafe extern "C" fn guided_str_init_lit() {
    let mut ostr: String = String::from("owned String");
    let mut uptr: *const ::core::ffi::c_char =
        b"unguided pointer\0" as *const u8 as *const ::core::ffi::c_char;
}
#[no_mangle]
pub unsafe extern "C" fn guided_ret_ostr() -> String {
    return String::new();
}
#[no_mangle]
pub unsafe extern "C" fn guided_condition_string_null_check_neq(
    mut ostr: String,
) -> ::core::ffi::c_int {
    return if true {
        2 as ::core::ffi::c_int
    } else {
        5 as ::core::ffi::c_int
    };
}
#[no_mangle]
pub unsafe extern "C" fn guided_mut_ref_neq(
    mut xstr: &mut str,
    mut xstr2: &mut str,
) -> ::core::ffi::c_int {
    return 1 as ::core::ffi::c_int;
}
#[no_mangle]
pub unsafe extern "C" fn guided_1d_slice(
    mut x: &[::core::ffi::c_int],
    mut index: ::core::ffi::c_int,
) -> ::core::ffi::c_int {
    return x[index as usize];
}
#[no_mangle]
pub unsafe extern "C" fn guided_2d_slice(
    mut x2d: &[&[::core::ffi::c_int]],
    mut i: ::core::ffi::c_int,
    mut j: ::core::ffi::c_int,
) -> ::core::ffi::c_int {
    return x2d[i as usize][j as usize];
}
#[no_mangle]
pub unsafe extern "C" fn guided_1d_vec(
    mut x: Vec<::core::ffi::c_int>,
    mut index: ::core::ffi::c_int,
) -> ::core::ffi::c_int {
    return x[index as usize];
}
#[no_mangle]
pub unsafe extern "C" fn guided_2d_vec(
    mut x2d: Vec<Vec<::core::ffi::c_int>>,
    mut i: ::core::ffi::c_int,
    mut j: ::core::ffi::c_int,
) -> ::core::ffi::c_int {
    return x2d[i as usize][j as usize];
}
